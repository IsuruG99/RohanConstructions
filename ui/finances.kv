<FinancesScreen>
        GridLayout:
                rows: 2
                cols: 1
                padding: (20, 40, 20, 20)
                spacing: 20
                GridLayout:
                        cols: 3
                        size_hint: 1, 0.05
                        GridLayout:
                                cols: 2
                                spacing: 10
                                size_hint: 0.3, 1
                                RButton4:
                                        text: 'Refresh'
                                        size_hint: 0.5, 1
                                        on_release: root.btn_click(self)
                                RButton4:
                                        id: finances_filter
                                        text: 'Filter: All'
                                        size_hint: 0.5, 1
                                        on_release: root.btn_click(self)
                        CLabel:
                                text: 'Finances'
                                size_hint: 0.4, 1
                                font_size: '30sp'
                                bold: True
                                spacing: 10
                        GridLayout:
                                cols: 2
                                size_hint: 0.3, 1
                                spacing: 10
                                RText:
                                        id: search
                                        hint_text: 'Search'
                                        multiline: False
                                        size_hint: 0.7, 1
                                        padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
                                RButton4:
                                        text: 'Search'
                                        size_hint: 0.3, 1
                                        on_release: root.searchLogs(search.text)
                GridLayout:
                        rows: 3
                        size_hint: 1, 0.95
                        spacing: 10
                        GridLayout:
                                size_hint: 1, 0.1
                                id: finance_headers
                                rows: 1
                                height: 50
                        ScrollView:
                                size_hint: 1, 0.8
                                do_scroll_x: False
                                GridLayout:
                                        id: finances_list
                                        size_hint_y: None
                                        height: self.minimum_height
                                        cols: 1
                                        canvas.before:
                                                Color:
                                                        rgba: 0, 0, 0, 0.6
                                                Rectangle:
                                                        size: self.size
                                                        pos: self.pos
                        GridLayout:
                                rows: 1
                                cols: 3
                                spacing: 20
                                size_hint: 1, 0.1
                                RButton4:
                                        text: 'Overview'
                                        size_hint: 0.4, 1
                                        on_release: root.overview_log()
                                RButton4:
                                        text: 'Add'
                                        size_hint: 0.4, 1
                                        on_release: root.btn_click(self)
                                RButton4:
                                        text: 'Back'
                                        size_hint: 0.2, 1
                                        on_release:
                                                root.manager.current = 'main'
                                                root.manager.transition.direction = 'right'


<ViewLogPopup>:
        GridLayout:
                cols: 1
                rows: 2
                size: root.size
                pos: root.pos
                padding: 20
                spacing: 20
                GridLayout:
                        cols: 2
                        rows: 7
                        spacing: 10
                        size_hint: 1, 0.9

                        CLabel:
                                text: 'Type'
                                size_hint: 0.3, 0.1
                        RSpinner:
                                id: viewLog_type
                                text: 'Type'
                                values: ['Income', 'Expense']
                                font_size: 20
                                size_hint: 0.7, 0.1

                        CLabel:
                                text: 'Amount'
                                size_hint: 0.3, 0.1
                        RText:
                                id: viewLog_amount
                                size_hint: 0.7, 0.1
                                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]

                        CLabel:
                                text: 'Date'
                                size_hint: 0.3, 0.1
                        RText:
                                id: viewLog_date
                                size_hint: 0.7, 0.1
                                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]

                        CLabel:
                                text: 'Description'
                                size_hint: 0.3, 0.1
                        RText:
                                id: viewLog_desc
                                size_hint: 0.7, 0.1
                                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]

                        CLabel:
                                text: 'Related Entity'
                                size_hint: 0.3, 0.1
                        RText:
                                id: viewLog_entity
                                size_hint: 0.7, 0.1
                                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]

                        CLabel:
                                text: 'Project Name'
                                size_hint: 0.3, 0.1
                        RAutoFillText:
                                id: viewLog_project
                                size_hint: 0.7, 0.1
                                completions: root.load_project_list()
                                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]

                        CLabel:
                                text: 'Category'
                                size_hint: 0.3, 0.1
                        RSpinner:
                                id: viewLog_category
                                text: 'Category'
                                values: ['Materials', 'Payroll', 'Contract', 'Misc']
                                font_size: 20
                                size_hint: 0.7, 0.1

                GridLayout:
                        cols: 3
                        rows: 1
                        spacing: 10
                        size_hint: 1, 0.1

                        RButton4:
                                text: 'Save'
                                on_release:
                                        root.edit_log(requestType="Validate")

                        RButton4:
                                text: 'Delete'
                                on_release:
                                        root.delete_log(requestType="Validate")

                        RButton4:
                                text: 'Back'
                                on_release: root.dismiss_popup(root.popup)


<AddLogPopup>:
        GridLayout:
                cols: 1
                rows: 2
                size: root.size
                pos: root.pos
                padding: 20
                spacing: 20
                GridLayout:
                        cols: 2
                        rows: 7
                        spacing: 10
                        size_hint: 1, 0.9

                        CLabel:
                                text: 'Type'
                                size_hint: 0.3, 1
                        RSpinner:
                                id: addLog_type
                                text: 'Type'
                                values: ['Income', 'Expense']
                                font_size: '20sp'
                                size_hint: 0.7, 1

                        CLabel:
                                text: 'Amount'
                                size_hint: 0.3, 1
                        RText:
                                id: addLog_amount
                                size_hint: 0.7, 1
                                hint_text: '10000'
                                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]

                        CLabel:
                                text: 'Date'
                                size_hint: 0.3, 1
                        RText:
                                id: addLog_date
                                size_hint: 0.7, 1
                                hint_text: 'YYYY-MM-DD'
                                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]

                        CLabel:
                                text: 'Description'
                                size_hint: 0.3, 1
                        RText:
                                id: addLog_desc
                                size_hint: 0.7, 1
                                hint_text: 'Description'
                                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]

                        CLabel:
                                text: 'Related Entity'
                                size_hint: 0.3, 1
                        RText:
                                id: addLog_entity
                                size_hint: 0.7, 1
                                hint_text: 'Employee, Supplier, etc.'
                                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]

                        CLabel:
                                text: 'Project Name'
                                size_hint: 0.3, 1
                        RAutoFillText:
                                id: addLog_project
                                size_hint: 0.7, 1
                                hint_text: 'Project Name'
                                completions: root.load_project_list()
                                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]

                        CLabel:
                                text: 'Category'
                                size_hint: 0.3, 1
                        RSpinner:
                                id: addLog_category
                                text: 'Category'
                                values: ['Materials', 'Payroll', 'Contract', 'Misc']
                                font_size: '20sp'
                                size_hint: 0.7, 1

                GridLayout:
                        cols: 2
                        rows: 1
                        spacing: 10
                        size_hint: 1, 0.1
                        RButton4:
                                text: 'Insert'
                                on_release:
                                        root.addLog(requestType="Validate")
                        RButton4:
                                text: 'Back'
                                on_release: root.dismiss_popup(root.popup)

<FinanceOverview>:
        GridLayout:
                cols: 1
                rows: 3
                size: root.size
                pos: root.pos
                padding: 20
                spacing: 10

                GridLayout:
                        cols: 1
                        rows: 3
                        spacing: 10
                        size_hint: 1, 0.3
                        CLabel:
                                text: 'Year and Month'
                                size_hint: 1, 0.3
                                font_size: '25sp'
                        GridLayout:
                                cols: 2
                                rows: 1
                                size_hint: 1, 0.4
                                spacing: 10
                                AutoFillText:
                                        id: overview_year
                                        text: '2024'
                                        hint_text: 'Year'
                                        size_hint: 0.5, 1
                                        font_size: '25sp'
                                        completions: [str(i) for i in range(1900, 2101)]
                                        halign: 'center'
                                        padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
                                AutoFillText:
                                        id: overview_month
                                        size_hint: 0.5, 1
                                        # how do i say that the text should be a month, but can be blank as well?
                                        hint_text: 'Month (optional)'
                                        font_size: '25sp'
                                        halign: 'center'
                                        completions: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']
                                        padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
                        RButton4:
                                text: 'Check'
                                size_hint: 1, 0.3
                                on_release: root.populate_overview(overview_year.text, overview_month.text)
                GridLayout:
                        cols: 1
                        rows: 2
                        spacing: 10
                        size_hint: 1, 0.55
                        GridLayout:
                                cols: 2
                                rows: 1
                                spacing: 10
                                size_hint: 1, 0.8
                                GridLayout:
                                        cols: 2
                                        rows: 3
                                        size_hint: 0.5, 1
                                        spacing: 10
                                        CLabel:
                                                text: 'Contract'
                                                size_hint: 0.17, 1
                                        RText:
                                                id: overview_contract
                                                size_hint: 0.33, 1
                                                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
                                        CLabel:
                                                text: 'Materials'
                                                size_hint: 0.17, 1
                                        RText:
                                                id: overview_materials
                                                size_hint: 0.33, 1
                                                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
                                        CLabel:
                                                text: 'Total \nIncome'
                                                size_hint: 0.17, 1
                                        RText:
                                                id: overview_income
                                                size_hint: 0.33, 1
                                                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
                                GridLayout:
                                        cols: 2
                                        rows: 3
                                        size_hint: 0.5, 1
                                        spacing: 10
                                        CLabel:
                                                text: 'Payroll'
                                                size_hint: 0.17, 1
                                        RText:
                                                id: overview_payroll
                                                size_hint: 0.33, 1
                                                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
                                        CLabel:
                                                text: 'Misc'
                                                size_hint: 0.17, 1
                                        RText:
                                                id: overview_misc
                                                size_hint: 0.33, 1
                                                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
                                        CLabel:
                                                text: 'Total \nExpense'
                                                size_hint: 0.17, 1
                                        RText:
                                                id: overview_expense
                                                size_hint: 0.33, 1
                                                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
                        GridLayout:
                                cols: 4
                                size_hint: 1, 0.2
                                spacing: 10
                                CLabel:
                                        text: ''
                                        size_hint: 0.25, 1
                                CLabel:
                                        text: 'Balance'
                                        size_hint: 0.15, 1
                                RText:
                                        id: overview_balance
                                        size_hint: 0.35, 1
                                        padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
                                CLabel:
                                        text: ''
                                        size_hint: 0.25, 1
                RButton4:
                        text: 'Back'
                        size_hint: 1, 0.15
                        on_release: root.dismiss_popup(root.popup)
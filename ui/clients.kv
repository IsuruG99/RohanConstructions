<ClientsScreen>:
        GridLayout:
                rows: 2
                cols: 1
                padding: 40
                spacing: 20

                GridLayout:
                        cols: 2
                        size_hint: 1, 0.05
                        CLabel:
                                text: 'Clients'
                                size_hint: 0.7, 1
                                font_size: '30sp'
                                bold: True
                                spacing: 10
                                padding: 10

                        GridLayout:
                                cols: 2
                                size_hint: 0.3, 1
                                spacing: 10, 0
                                padding: (0, 0, 30, 0)
                                CText:
                                        id: search
                                        hint_text: 'Search'
                                        multiline: False
                                        size_hint: 0.75, 1
                                CButton2:
                                        text: 'Search'
                                        size_hint: 0.25, 1
                                        on_release: root.search_clients(search.text)

                GridLayout:
                        rows: 3
                        size_hint: 1, 0.95

                        GridLayout:
                                size_hint: 1, 0.1
                                id: clients_headers
                                rows: 1
                                height: 50

                        ScrollView:
                                size_hint: 0.95, 1
                                do_scroll_x: False
                                GridLayout:
                                        id: clients_list
                                        cols: 1
                                        size_hint_y: None
                                        height: self.minimum_height
                                        cols: 1
                                        canvas.before:
                                                Color:
                                                        rgba: 0.1, 0.1, 0.1, 1
                                                Rectangle:
                                                        pos: self.pos
                                                        size: self.size

                        GridLayout:
                                rows: 1
                                cols: 3
                                spacing: 20
                                padding: 20
                                size_hint: 1, 0.3

                                CButton2:
                                        id: clients_filter
                                        text: 'All'
                                        size_hint: 0.2, 1
                                        on_press: root.btn_click(self)

                                CButton2:
                                        text: 'Add'
                                        size_hint: 0.5, 1
                                        on_press: root.add_client_popup()

                                CButton2:
                                        text: 'Back'
                                        size_hint: 0.2, 1
                                        on_press:
                                                root.manager.current = 'main'
                                                root.manager.transition.direction = 'right'


<AddClientPopup>:
        GridLayout:
                cols: 1
                rows: 2
                size: root.size
                pos: root.pos

                GridLayout:
                        cols: 2
                        rows: 8  # Adjusted to match the number of fields
                        padding: 10
                        spacing: 10
                        size_hint: 1, 0.8

                        CLabel:
                                text: 'Name'
                                size_hint: 0.3, 0.1
                        CText:
                                id: add_client_name
                                multiline: False
                                hint_text: 'Client Name'

                        CLabel:
                                text: 'Phone Number'
                                size_hint: 0.3, 0.1
                        CText:
                                id: add_client_phone_number
                                multiline: False
                                hint_text: 'Phone Number'

                        CLabel:
                                text: 'Email'
                                size_hint: 0.3, 0.1
                        CText:
                                id: add_client_email
                                multiline: False
                                hint_text: 'Email'

                        CLabel:
                                text: 'Address'
                                size_hint: 0.3, 0.1
                        CText:
                                id: add_client_address
                                multiline: False
                                hint_text: 'Address'

                        CLabel:
                                text: 'Project Name'
                                size_hint: 0.3, 0.1
                        CText:
                                id: add_client_project_name
                                multiline: False
                                hint_text: 'None'
                                disabled: True

                        CLabel:
                                text: 'Project Duration'
                                size_hint: 0.3, 0.1
                        CText:
                                id: add_client_project_duration
                                multiline: False
                                hint_text: 'None'
                                disabled: True

                        CLabel:
                                text: 'Project Status'
                                size_hint: 0.3, 0.1
                        CSpinner:
                                id: add_client_project_status
                                text: 'Status'
                                values: ['None']
                                disabled: True

                GridLayout:
                        cols: 2
                        rows: 1
                        padding: 20
                        spacing: 20
                        size_hint: 1, 0.2

                        CButton2:
                                text: 'Insert'
                                on_release:
                                        root.add_client(add_client_name.text, add_client_phone_number.text, add_client_email.text, add_client_address.text)

                        CButton2:
                                text: 'Cancel'
                                on_release:
                                        root.dismiss_popups(self)

<ViewClientPopup>:
        GridLayout:
                cols: 1
                rows: 2
                size: root.size
                pos: root.pos

                GridLayout:
                        cols: 2
                        rows: 8  # Adjusted to match the number of fields
                        padding: 10
                        spacing: 10
                        size_hint: 1, 0.8

                        CLabel:
                                text: 'Name'
                                size_hint: 0.3, 0.1
                        CText:
                                id: view_client_name
                                multiline: False
                                hint_text: 'Client Name'

                        CLabel:
                                text: 'Phone Number'
                                size_hint: 0.3, 0.1
                        CText:
                                id: view_client_phone_number
                                multiline: False
                                hint_text: 'Phone Number'

                        CLabel:
                                text: 'Email'
                                size_hint: 0.3, 0.1
                        CText:
                                id: view_client_email
                                multiline: False
                                hint_text: 'Email'

                        CLabel:
                                text: 'Address'
                                size_hint: 0.3, 0.1
                        CText:
                                id: view_client_address
                                multiline: False
                                hint_text: 'Address'

                        CLabel:
                                text: 'Project Name'
                                size_hint: 0.3, 0.1
                        CSpinner:
                                id: view_client_project_name
                                text: 'Project Name'
                                values: ['']

                        CLabel:
                                text: 'Project Duration'
                                size_hint: 0.3, 0.1
                        CText:
                                id: view_client_project_duration
                                multiline: False
                                hint_text: 'None'

                        CLabel:
                                text: 'Project Status'
                                size_hint: 0.3, 0.1
                        CSpinner:
                                id: view_client_project_status
                                text: 'Status'
                                values: ['None', 'In Progress', 'Completed']
                                # When user clicks on the spinner sub_option, trigger event


                GridLayout:
                        cols: 2
                        rows: 1
                        padding: 20
                        spacing: 20
                        size_hint: 1, 0.2

                        CButton2:
                                text: 'Edit'
                                on_release:
                                        root.edit_client(view_client_name.text, view_client_phone_number.text,
                                        view_client_email.text, view_client_address.text, view_client_project_name.text,
                                        view_client_project_duration.text, view_client_project_status.text)

                        CButton2:
                                text: 'Delete'
                                on_release:
                                        root.delete_client()

